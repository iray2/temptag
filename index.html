<!DOCTYPE html>
<html>
  <head>
    
<script>
// Define dataLayer and the gtag function.
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

// Set default consent to 'denied' as a placeholder
// Determine actual values based on your own requirements
gtag('consent', 'default', {
  'ad_storage': 'denied',
  'ad_user_data': 'denied',
  'ad_personalization': 'denied',
  'analytics_storage': 'denied'
});
</script>
    
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TP5XY5YGX4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TP5XY5YGX4');
</script>

<!-- Create one update function for each consent parameter. The example had one but I'm gonna put the remaining three in same script block. -->
<script>
  function consentGrantedAdUserData() {
    gtag('consent', 'update', {
      'ad_user_data': 'granted'
    });
  }

  function consentGrantedAdPersonalization() {
    gtag('consent', 'update', {
      'ad_personalization': 'granted'
    });
  }

  function consentGrantedAnalyticsStorage() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }

  function consentGrantedAdStorage() {
    gtag('consent', 'update', {
      'ad_storage': 'granted'
    });
  }
</script>
    


    <!-- Google Tag Manager 
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5WPHC5QW');</script>
End Google Tag Manager -->
    
    <meta charset="utf-8">
    <title>Website to Test Tag</title>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) 
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5WPHC5QW"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  End Google Tag Manager (noscript) -->
    
    <h1>Link to Google Tag Privacy Policy</h1>
    <p>Not sure if this is the correct one: 
     <a href="https://support.google.com/tagmanager/answer/9323295?hl=en" target="_blank">
        Data privacy & security (Google Tag Manager)
      </a>
    </p>

    <h2>Sample Form</h2>
    <form id="sampleForm">
      <label>
        Name: <input type="text" name="name" required>
      </label>
      <br><br>

      <p>Select checkboxes:</p>
      <label><input type="checkbox" name="option" value="1">  1</label><br>
      <label><input type="checkbox" name="option" value="2">  2</label><br>
      <label><input type="checkbox" name="option" value="3">  3</label><br><br>

      <p>Choose one multiple choice:</p>
      <label><input type="radio" name="choice" value="A" required> A</label><br>
      <label><input type="radio" name="choice" value="B"> B</label><br>
      <label><input type="radio" name="choice" value="C"> C</label><br>
      <label><input type="radio" name="choice" value="D"> D</label><br><br>

      <button type="submit">Submit</button>
    </form>

 <!-- Cookie Consent Banner -->
<div id="cookie-banner"
     class="cky-consent-container cky-banner-bottom"
     aria-label="We use cookies"
     role="region"
     tabindex="-1"
     style="border: 2px solid #097d6c; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); margin: 10px; padding: 10px; background-color: #fff;">
  <div class="cky-consent-bar">
    <div class="cky-notice">
      <p class="cky-title" style="color:#212121;">We use cookies</p>

      <div class="cky-notice-group">
        <div class="cky-notice-des" style="color:#212121;">
          <p>
            We need your consent to set a cookie.
          </p>
        </div>

        <div class="cky-notice-btn-wrapper">
          <button id="cookie-deny"
                  style="color:#097d6c; border-color:#097d6c; background:transparent; margin-right: 8px;">
            Deny
          </button>

          <button id="cookie-accept"
                  style="color:#fff; border-color:#097d6c; background:#097d6c;">
            Accept
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const banner = document.getElementById('cookie-banner');
  const acceptBtn = document.getElementById('cookie-accept');
  const denyBtn = document.getElementById('cookie-deny');

  // Helper to check if cookie exists
  function getCookie(name) {
    return document.cookie.split('; ').find(row => row.startsWith(name + '='));
  }

  // Hide banner if cookie already exists
  if (getCookie('consent')) {
    banner.style.display = 'none';
  }

  // Accept: set a session cookie (expires when tab/browser closes). I added the fucntion calls here.
  acceptBtn.addEventListener('click', () => {
    document.cookie = "consent=accepted; path=/"; // session cookie
    consentGrantedAdUserData();       
    consentGrantedAdPersonalization(); 
    consentGrantedAnalyticsStorage();  
    consentGrantedAdStorage();         
    banner.style.display = 'none';
  });

  // Deny: just hide banner
  denyBtn.addEventListener('click', () => {
    banner.style.display = 'none';
  });
</script>
<!-- End Cookie Consent Banner -->



  </body>
</html>
